<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growtopia - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            background-color: #0b0b0b;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
            position: relative;
        }

        /* Kar Tanesi Animasyonu */
        .snowflake {
            color: #fff;
            font-size: 1em;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 5px #000;
            position: fixed;
            top: -10%;
            z-index: 1;
            user-select: none;
            cursor: default;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { top: -10%; transform: translateX(0); }
            100% { top: 110%; transform: translateX(100px); }
        }

        .main-card {
            width: 650px;
            height: 420px;
            background: #181818;
            border-radius: 15px;
            position: relative;
            display: flex;
            overflow: hidden;
            box-shadow: 0 0 50px 5px rgba(255, 87, 34, 0.45);
            border: 1px solid rgba(255, 255, 255, 0.05);
            z-index: 10; /* Kart kardan üstte görünsün */
        }

        .right-side {
            position: absolute;
            right: 0;
            top: 0;
            width: 58%;
            height: 100%;
            background: linear-gradient(135deg, #30160d 0%, #8a3a19 60%, #b34a21 100%);
            clip-path: polygon(20% 0%, 100% 0%, 100% 100%, 0% 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            padding-left: 40px;
            z-index: 5;
        }

        .left-side {
            width: 48%;
            padding: 25px;
            z-index: 10;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .title {
            color: white;
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group { margin-bottom: 12px; }

        .input-label {
            color: #ff5722;
            font-size: 11px;
            font-weight: 800;
            text-transform: uppercase;
            margin-bottom: 2px;
        }

        .input-box {
            background: transparent;
            border-bottom: 1px solid #444;
            display: flex;
            align-items: center;
            padding: 4px 0;
            transition: 0.3s;
        }

        .input-box:focus-within { border-bottom-color: #ff5722; }

        .input-box input {
            background: transparent;
            border: none;
            color: white;
            outline: none;
            width: 100%;
            font-size: 14px;
        }

        .input-box i { color: #555; font-size: 13px; }

        .btn-orange {
            background: linear-gradient(to right, #9e3d18, #ff5722);
            color: white;
            padding: 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            border: 1px solid #5d2511;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
            transition: 0.3s;
        }

        .btn-orange:hover { filter: brightness(1.1); transform: scale(1.02); }

        .switch-link {
            color: #888;
            font-size: 11px;
            text-align: center;
            margin-top: 12px;
        }

        .switch-link span { color: #ff5722; cursor: pointer; font-weight: bold; }

        .form-content { transition: all 0.4s ease-in-out; }

        .hidden-slide {
            opacity: 0;
            transform: translateX(40px);
            position: absolute;
            visibility: hidden;
            pointer-events: none;
        }

        .active-slide {
            opacity: 1;
            transform: translateX(0);
            position: relative;
            visibility: visible;
        }

        #errorDiv {
            color: #ff4444;
            font-size: 11px;
            margin-bottom: 10px;
            text-align: center;
            font-weight: 600;
        }
    </style>
</head>
<body>

    <div class="main-card">
        <div class="left-side">
            <h2 class="title" id="titleText">Login</h2>

            <div id="errorDiv" class="hidden">
                <i class="fas fa-exclamation-circle mr-1"></i> <span id="errorMessage"></span>
            </div>

            <div id="loginSection" class="form-content active-slide">
                <form id="loginForm" method="post" action="/player/growid/login/validate">
                    <input name="type" value="log" type="hidden" />
                    <input name="_token" value="{{ data }}" type="hidden" />
                    
                    <div class="input-group">
                        <div class="input-label">GrowID</div>
                        <div class="input-box">
                            <input type="text" id="loginGrowId" name="growId" placeholder="Enter GrowID">
                            <i class="fas fa-user"></i>
                        </div>
                    </div>

                    <div class="input-group">
                        <div class="input-label">Password</div>
                        <div class="input-box">
                            <input type="password" id="loginPassword" name="password" placeholder="Enter Password">
                            <i class="fas fa-eye cursor-pointer" id="togglePass"></i>
                        </div>
                    </div>

                    <div class="input-group">
                        <div class="input-label">Server Name</div>
                        <div class="input-box">
                            <input type="text" id="loginServerName" name="ServerName" placeholder="localhost">
                            <i class="fas fa-server"></i>
                        </div>
                    </div>

                    <button type="submit" class="btn-orange">Login</button>
                </form>
                <p class="switch-link">Don't have an account? <span id="switchToReg">Register</span></p>
            </div>

            <div id="registerSection" class="form-content hidden-slide">
                <form id="registerForm" method="post" action="/player/growid/login/validate">
                    <input name="type" value="reg" type="hidden" />
                    <input name="has_reg" value="1" type="hidden" />
                    
                    <div class="input-group">
                        <div class="input-label">Server Address</div>
                        <div class="input-box">
                            <input type="text" id="regServer" name="ServerName" placeholder="Enter server name">
                            <i class="fas fa-globe"></i>
                        </div>
                    </div>

                    <button type="button" id="registerButton" class="btn-orange">Register Server</button>
                </form>
                <p class="switch-link">Already have an account? <span id="switchToLog">Login</span></p>
            </div>
        </div>

        <div class="right-side">
            <img src="https://login-page-blond.vercel.app/game_title.png" class="w-36 mb-4" alt="Growtopia">
            <h1 class="text-xl font-black mb-2 uppercase">Welcome Back!</h1>
            <p class="text-[10px] text-center opacity-80 max-w-[180px]">
                Manage your server and account easily with our dashboard.
            </p>
        </div>
    </div>

    <script>
        // Kar Yağışı Oluşturucu
        function createSnowflakes() {
            const snowCount = 50;
            for (let i = 0; i < snowCount; i++) {
                const flake = document.createElement('div');
                flake.className = 'snowflake';
                flake.innerHTML = '❄';
                flake.style.left = Math.random() * 100 + '%';
                flake.style.opacity = Math.random();
                flake.style.fontSize = (Math.random() * 10 + 10) + 'px';
                flake.style.animationDuration = (Math.random() * 3 + 2) + 's';
                flake.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(flake);
            }
        }
        createSnowflakes();

        const loginSection = document.getElementById('loginSection');
        const registerSection = document.getElementById('registerSection');
        const titleText = document.getElementById('titleText');

        document.getElementById('switchToReg').onclick = () => {
            loginSection.classList.replace('active-slide', 'hidden-slide');
            setTimeout(() => {
                registerSection.classList.replace('hidden-slide', 'active-slide');
                titleText.innerText = "Register";
            }, 150);
        };

        document.getElementById('switchToLog').onclick = () => {
            registerSection.classList.replace('active-slide', 'hidden-slide');
            setTimeout(() => {
                loginSection.classList.replace('hidden-slide', 'active-slide');
                titleText.innerText = "Login";
            }, 150);
        };

        document.getElementById('togglePass').onclick = function() {
            const passField = document.getElementById('loginPassword');
            if (passField.type === "password") {
                passField.type = "text";
                this.classList.replace('fa-eye', 'fa-eye-slash');
            } else {
                passField.type = "password";
                this.classList.replace('fa-eye-slash', 'fa-eye');
            }
        };
    </script>
</body>
</html>
